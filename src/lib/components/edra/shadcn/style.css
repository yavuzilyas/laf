:root {
	--border-color: var(--muted);
	--border-color-hover: var(--muted-foreground);
	--blockquote-border: var(--border);
	--blockquote-color: var(--muted-foreground);
	--codeblock-bg: var(--muted);
	--code-bg: var(--muted);
	--table-border: var(--border);
	--table-bg-selected: color-mix(in oklch, var(--muted) 60%, transparent);
	--table-bg-hover: color-mix(in oklch, var(--muted) 30%, transparent);
	--task-completed-color: var(--muted-foreground);
	--highlight-color: rgba(0, 255, 0, 0.1);
	--highlight-border: green;
	--search-result-bg: yellow;
	--search-result-current-bg: orange;
}

.dark {
	--codeblock-bg: color-mix(in oklch, var(--muted) 30%, transparent);
}

/* Fix for popovers and menus in the editor */
.edra-toolbar {
  z-index: 40;
  contain: style layout;
  overflow: visible !important;
  height: fit-content !important;
}

/* Fix for dropdown menus */
[data-radix-popper-content-wrapper] {
  z-index: 1000 !important;
  position: fixed !important;
  transform: none !important;
  max-height: none !important;
  overflow: visible !important;
}

/* Fix for dropdown content */
[data-radix-popper-content-wrapper] > * {
  position: static !important;
  transform: none !important;
  z-index: 1000 !important;
  margin: 0 !important;
  max-height: none !important;
  overflow: visible !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Ensure dropdowns are positioned correctly */
[data-radix-popper-content-wrapper][data-side="bottom"] {
  top: 100% !important;
  left: 0 !important;
  right: auto !important;
  width: auto !important;
  min-width: 100% !important;
}

/* Fix for command menu */
[cmdk-root] {
  z-index: 1001 !important;
  position: fixed !important;
}

/* Ensure the editor content doesn't interfere with popovers */
.tiptap {
  position: relative;
  z-index: 10;
}

/* Fix for tooltip and popover z-index */
[data-state="open"] {
  z-index: 9999 !important;
}

.tiptap a {
  color: oklch(62.3% 0.214 259.815);
  text-decoration: underline;
}

/* Ensure dropdown menus are not clipped */
[cmdk-root] {
  z-index: 100 !important;
}

/* Fix for command menu positioning */
[cmdk-list] {
  position: relative !important;
  z-index: 100 !important;
  transform: none !important;
}

/* Fix for popover content being clipped */
[data-side="top"],
[data-side="bottom"],
[data-side="left"],
[data-side="right"] {
  z-index: 100 !important;
  position: relative;
}

/* Fix for nested popovers */
[role="dialog"] {
  z-index: 100 !important;
  position: relative;
}
